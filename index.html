<!-- MÓDULO VISUAL ILUSTRATIVO -->
<div class="card" style="margin-top:12px;">
  <h3>Representación ilustrativa del proceso</h3>

  <div id="illustrationBox" style="text-align:center; padding:20px;">
    <!-- Aquí se cargan las ilustraciones según el tipo de biocombustible -->
  </div>

  <div class="muted" style="font-size:13px; margin-top:10px;">
    Estas ilustraciones son esquemáticas y educativas, pensadas para acompañar la comprensión del proceso real.
  </div>
</div>

<script>
const illustrationBox = document.getElementById("illustrationBox");

const illustrations = {
  ethanol: `
    <svg width="260" height="160" viewBox="0 0 260 160">
      <!-- Fermentation tank -->
      <rect x="40" y="20" width="80" height="120" rx="12" fill="#d8ebff" stroke="#0b74de" stroke-width="3"/>
      <text x="80" y="90" text-anchor="middle" fill="#0b74de" font-size="14">Fermentador</text>

      <!-- Arrow -->
      <line x1="130" y1="80" x2="180" y2="80" stroke="#0b74de" stroke-width="3" marker-end="url(#arrow)"/>

      <!-- Distillation column -->
      <rect x="180" y="20" width="60" height="120" rx="10" fill="#ffeccd" stroke="#ff9f00" stroke-width="3"/>
      <text x="210" y="90" text-anchor="middle" fill="#ff9f00" font-size="14">Destilación</text>

      <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="7" refY="3" orient="auto">
          <polygon points="0 0, 10 3, 0 6" fill="#0b74de"/>
        </marker>
      </defs>
    </svg>

    <div style="margin-top:10px; font-size:14px;">
      Proceso de <strong>fermentación</strong> y posterior <strong>destilación</strong> para obtener etanol.
    </div>
  `,

  biodiesel: `
    <svg width="260" height="160" viewBox="0 0 260 160">
      <!-- Oil container -->
      <circle cx="60" cy="80" r="35" fill="#ffe4c4" stroke="#e68a00" stroke-width="3"/>
      <text x="60" y="85" text-anchor="middle" fill="#e68a00" font-size="14">Aceites</text>

      <!-- Arrow -->
      <line x1="100" y1="80" x2="150" y2="80" stroke="#e68a00" stroke-width="3" marker-end="url(#arrowBio)"/>

      <!-- Reactor -->
      <rect x="150" y="25" width="80" height="110" rx="12" fill="#e0ffe0" stroke="#18a418" stroke-width="3"/>
      <text x="190" y="90" text-anchor="middle" fill="#18a418" font-size="14">Reactor</text>

      <defs>
        <marker id="arrowBio" markerWidth="10" markerHeight="10" refX="7" refY="3" orient="auto">
          <polygon points="0 0, 10 3, 0 6" fill="#e68a00"/>
        </marker>
      </defs>
    </svg>

    <div style="margin-top:10px; font-size:14px;">
      Representación del proceso de <strong>transesterificación</strong> para producir biodiésel.
    </div>
  `,

  biogas: `
    <svg width="260" height="160" viewBox="0 0 260 160">
      <!-- Digester -->
      <ellipse cx="130" cy="90" rx="80" ry="45" fill="#e6ffe6" stroke="#06a300" stroke-width="3"></ellipse>
      <text x="130" y="95" text-anchor="middle" fill="#06a300" font-size="14">Biodigestor</text>

      <!-- Gas bubble -->
      <circle cx="210" cy="40" r="20" fill="#c9f7c9" stroke="#06a300" stroke-width="3"></circle>
      <text x="210" y="43" text-anchor="middle" fill="#06a300" font-size="13">CH₄</text>

      <!-- Pipe -->
      <line x1="175" y1="65" x2="210" y2="40" stroke="#06a300" stroke-width="4" />

    </svg>

    <div style="margin-top:10px; font-size:14px;">
      Esquema del proceso de <strong>digestión anaerobia</strong> para producir biogás.
    </div>
  `,
};

// actualización cuando cambia el tipo de biocombustible
fuelType.addEventListener("change", () => {
  illustrationBox.innerHTML = illustrations[fuelType.value];
});

// inicial
illustrationBox.innerHTML = illustrations[fuelType.value];
</script>

